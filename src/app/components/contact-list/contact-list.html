<div class="container my-4">
  <div class="row mb-3">
    <div class="col-md-4">
      <input
        type="text"
        class="form-control"
        placeholder="Buscar por nome, telefone, email…"
        [(ngModel)]="filtro"
        (keyup.enter)="onSearch()"
      />
    </div>
      <div class="col-md-3">
        <select #sel class="form-select" (change)="onCategoriaChange(sel.value)">
          <option value="">Todas as categorias</option>
          <option *ngFor="let cat of categorias" [value]="cat">{{ cat }}</option>
        </select>
      </div>
    <div class="col-md-3">
      <button
        class="btn"
        [ngClass]="mostrarFavoritos ? 'btn-warning' : 'btn-outline-warning'"
        (click)="toggleFavoritos()"
      >
        {{ mostrarFavoritos ? 'Exibir Todos' : 'Favoritos' }}
      </button>
    </div>
  </div>

  <div class="row">
    <div *ngFor="let contato of contatos" class="col-md-4 mb-3">
      <div class="card h-100">
        <div class="card-body">
          <h5 class="card-title">
            {{ contato.nome }}
            <span *ngIf="contato.favorito" class="text-warning">★</span>
          </h5>
          <p class="card-text">
            <strong>Telefone:</strong> {{ contato.telefone }}<br />
            <strong>Email:</strong> {{ contato.email }}<br />
            <strong>Categoria:</strong> {{ contato.categoria }}
          </p>
          <a
            [routerLink]="['/contato', contato.id]"
            class="btn btn-primary me-2"
          >
            Detalhes
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
